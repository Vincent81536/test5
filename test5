Reanimate = getgenv().Framework
local Character = nil

if Reanimate == "Hatless" then
local Hatless = loadstring(game:HttpGet("https://raw.githubusercontent.com/MelonsStuff/DisbeliefHub/refs/heads/main/Reanimate/Hatless.lua"))()
Character = Hatless.FakeCharacter
elseif getgenv().Framework == "Krypton" then
KryptonConfiguration = {
WaitTime = 0.251,
FakeRigScale = 1,
DestroyHeightOffset = 50,
TeleportOffsetRadius = 20,
RefitHatCount = 2,
RigName = "Tetris",
ReturnOnDeath = true,
Reclaim = false,
Refit = true,
SetCharacter = true,
Animations = true,
NoCollisions = true,
AntiVoiding = false,
SetSimulationRadius = true,
DisableCharacterScripts = true,
AccessoryFallbackDefaults = true,
OverlayFakeCharacter = false,
LimitHatsPerLimb = false,
NoBodyNearby = true,
PermanentDeath = true,
Hats = {
["Torso"] = {
{Texture = "4819722776", Mesh = "4819720316", Name = "MeshPartAccessory", Offset = CFrame.Angles(0, 0, -0.25)},
{Texture = "14251599953", Mesh = "14241018198", Name = "Black", Offset = CFrame.Angles(0, 0, 0)},
{Texture = "131014325980101", Mesh = "127552124837034", Name = "Accessory (Toorso)", Offset = CFrame.Angles(0, 0, 0)},
},
["Right Arm"] = {
{Texture = "129264637819824", Mesh = "121342985816617", Name = "Accessory (SnakeRight)", Offset = CFrame.Angles(0, 3.15, 1.57)},
{Texture = "3409604993", Mesh = "3030546036", Name = "InternationalFedora", Offset = CFrame.Angles(-1.57, 0, -1.57)},
{Texture = "12344206675", Mesh = "12344206657", Name = "Extra Right hand (Blocky)_white", Offset = CFrame.new(-0.05, 0.05, -0.075) * CFrame.Angles(-1.95, 0, 0)},
{Texture = "14255543546", Mesh = "14255522247", Name = "RARM", Offset = CFrame.Angles(0, 0, 1.57)},
{Texture = "17374768001", Mesh = "17374767929", Name = "Accessory (RARM)", Offset = CFrame.Angles(0, 0, 1.57)},
{Texture = "120169691545791", Mesh = "117287001096396", Name = "Accessory (RARM)", Offset = CFrame.Angles(0, 0, 0)},
},
["Left Arm"] = {
{Texture = "129264637819824", Mesh = "121342985816617", Name = "Accessory (SnakeLeft)", Offset = CFrame.Angles(0, 0, 1.57)},
{Texture = "3033903209", Mesh = "3030546036", Name = "InternationalFedora", Offset = CFrame.Angles(-1.57, 0, 1.57)},
{Texture = "12344207341", Mesh = "12344207333", Name = "Extra Left hand (Blocky)_white", Offset = CFrame.new(-0.05, 0.05, -0.075) * CFrame.Angles(-1.95, 0, 0)},
{Texture = "14255543546", Mesh = "14255522247", Name = "LARM", Offset = CFrame.Angles(0, 0, 1.57)},
{Texture = "17374768001", Mesh = "17374767929", Name = "Accessory (LARM)", Offset = CFrame.Angles(0, 0, 1.57)},
{Texture = "120169691545791", Mesh = "117287001096396", Name = "Accessory (LARM)", Offset = CFrame.Angles(0, 0, 0)},
},
["Right Leg"] = {
{Texture = "3033898741", Mesh = "3030546036", Name = "InternationalFedora", Offset = CFrame.Angles(-1.57, 0, -1.57)},
{Texture = "17387586304", Mesh = "17387586286", Name = "Accessory (LLeg)", Offset = CFrame.Angles(0, 0, 1.57)},
{Texture = "11263219250", Mesh = "11263221350", Name = "MeshPartAccessory", Offset = CFrame.Angles(0, 0, 1.57)},
{Texture = "131014325980101", Mesh = "121304376791439", Name = "Accessory (LeftLeg)", Offset = CFrame.Angles(0, 0, 0)},
{Texture = "84429400539007", Mesh = "123388937940630", Name = "Accessory (LeftShoulder)", Offset = CFrame.Angles(0, 1.57, 0)},
},
["Left Leg"] = {
{Texture = "3360978739", Mesh = "3030546036", Name = "InternationalFedora", Offset = CFrame.Angles(-1.57, 0, 1.57)},
{Texture = "17387586304", Mesh = "17387586286", Name = "Accessory (rightleg)", Offset = CFrame.Angles(0, 1.57, 1.57)},
{Texture = "11159284657", Mesh = "11159370334", Name = "Unloaded head", Offset = CFrame.Angles(0, 1.57, 1.57)},
{Texture = "131014325980101", Mesh = "121304376791439", Name = "Accessory (RightLeg)", Offset = CFrame.Angles(0, 0, 0)},
{Texture = "84429400539007", Mesh = "117554824897780", Name = "Accessory (RightShoulder)", Offset = CFrame.Angles(0, -1.57, 0)},
},
},
}
local Reanimate = loadstring(game:HttpGet("https://raw.githubusercontent.com/KadeTheExploiter/Krypton/main/Module.luau"))()
Character = Reanimate:GetCharacter()
elseif Reanimate == "Emperyean" then
local Reanimate = loadstring(game:HttpGet("https://raw.githubusercontent.com/MelonsStuff/DisbeliefHub/refs/heads/main/Reanimate/Empyrean.lua"))()
Reanimate.Start({
Accessories = {
-- SB Rig
{ MeshId = "125443585075666", Name = "Torso", Offset = CFrame.Angles(0, 3.15, 0), TextureId = "121023324229475" },
{ MeshId = "121342985816617", Name = "Left Arm", Offset = CFrame.Angles(0, 0, 1.57), TextureId = "129264637819824" },
{ MeshId = "121342985816617", Name = "Right Arm", Offset = CFrame.Angles(0, 3.15, 1.57), TextureId = "129264637819824" },
{ MeshId = "83395427313429", Names = { "Left Leg", "Right Leg" }, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "97148121718581" },--18641142410
-- Free Rig
{ MeshId = "4819720316", Name = "Torso", Offset = CFrame.Angles(0, 0, -0.25), TextureId = "4819722776" },
{ MeshId = "3030546036", Name = "Left Arm", Offset = CFrame.Angles(-1.57, 0, 1.57), TextureId = "3033903209" },
{ MeshId = "3030546036", Name = "Right Arm", Offset = CFrame.Angles(-1.57, 0, -1.57), TextureId = "3360978739" },
{ MeshId = "3030546036", Name = "Left Leg", Offset = CFrame.Angles(-1.57, 0, 1.57), TextureId = "3033898741" },
{ MeshId = "3030546036", Name = "Right Leg", Offset = CFrame.Angles(-1.57, 0, -1.57), TextureId = "3409604993" },
-- Prosthetics
{ MeshId = "117554824897780", Name = "Right Leg", Offset = CFrame.Angles(0, -1.57, 0), TextureId = "99077561039115" },
{ MeshId = "123388937940630", Name = "Left Leg", Offset = CFrame.Angles(0, 1.57, 0), TextureId = "99077561039115" },
{ MeshId = "117554824897780", Name = "Right Leg", Offset = CFrame.Angles(0, -1.57, 0), TextureId = "84429400539007" },
{ MeshId = "123388937940630", Name = "Left Leg", Offset = CFrame.Angles(0, 1.57, 0), TextureId = "84429400539007" },
-- Classic Cheap Rig
{ MeshId = "12344206657", Name = "Left Arm", Offset = CFrame.new(0.05, 0.05, -0.075) * CFrame.Angles(-2, 0, 0), TextureId = "12344206675" },
{ MeshId = "12344207333", Name = "Right Arm", Offset = CFrame.new(-0.05, 0.05, -0.075) * CFrame.Angles(-1.95, 0, 0), TextureId = "12344207341" },
{ MeshId = "11159370334", Name = "Left Leg", Offset = CFrame.Angles(1.57, 1.57, 0), TextureId = "11159284657" },
{ MeshId = "11263221350", Name = "Right Leg", Offset = CFrame.Angles(1.57, -1.57, 0), TextureId = "11263219250" },
-- Grey Mesh Rig 
{ MeshId = "127552124837034", Names = {"Torso"}, Offset = CFrame.Angles(0, 0, 0), TextureId = "131014325980101" },--14255556501
{ MeshId = "117287001096396", Names = { "Left Arm", "Right Arm"}, Offset = CFrame.Angles(0, 0, 0), TextureId = "120169691545791" },--14255556501
{ MeshId = "121304376791439", Names = { "Left Leg", "Right Leg" }, Offset = CFrame.Angles(0, 0, 0), TextureId = "131014325980101" },--18641142410
-- offsale below
-- Classical Products rig (white/black arms)
{ MeshId = "14241018198", Names = {"Torso"}, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "14251599953" },
{ MeshId = "17374767929", Names = { "Left Arm", "Right Arm"}, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "17374768001" },
{ MeshId = "17387586286", Names = { "Left Leg", "Right Leg" }, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "17387586304" },
{ MeshId = "14255522247", Names = { "Left Arm", "Right Arm"}, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "14255543546" },
-- Noob Rig
{ MeshId = "18640899369", Name = "Torso", Offset = CFrame.Angles(0, 0, 0), TextureId = "18640899481" },
{ MeshId = "18640914129", Names = { "Left Arm", "Right Arm"}, Offset = CFrame.Angles(0, 0, 0), TextureId = "18640914168" },
{ MeshId = "18640901641", Names = { "Left Leg", "Right Leg"}, Offset = CFrame.Angles(0, 0, 0), TextureId = "18640901676" },
-- request
{ MeshId = "14768666349", Name = "Torso", Offset = CFrame.Angles(0, 0, 0), TextureId = "14768664565" },

{ MeshId = "14768684979", Names = { "Left Arm", "Right Arm"}, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "14768683674" },
{ MeshId = "137702817952968", Names = { "Left Arm", "Right Arm", "Left Leg", "Right Leg" }, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "135650240593878" },--84451219120140
{ MeshId = "137702817952968", Names = { "Left Arm", "Right Arm", "Left Leg", "Right Leg" }, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "135650240593878" },--72292903231768
{ MeshId = "137702817952968", Names = { "Left Leg", "Right Leg", "Left Arm", "Right Arm" }, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "73798034827573" },--108186273151388
{ MeshId = "137702817952968", Names = { "Right Leg", "Left Leg", "Right Arm", "Left Arm" }, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "73798034827573" },--139904067056008
{ MeshId = "11449386931", Names = { "Left Arm", "Right Arm" }, Offset = CFrame.Angles(- 2.094, 0, 0), TextureId = "11439439606" },--11449687315
{ MeshId = "11449388499", Names = { "Right Arm", "Left Arm" }, Offset = CFrame.Angles(- 2.094, 0, 0), TextureId = "11439439606" },--11449703382
{ MeshId = "12652772399", Names = { "Left Leg", "Right Leg" }, Offset = CFrame.identity, TextureId = "12652775021" },--12652786974
{ MeshId = "11263221350", Names = { "Left Leg", "Right Leg", "Left Arm", "Right Arm" }, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "11263219250" },--11263254795
{ MeshId = "11159370334", Names = { "Right Leg", "Left Leg", "Right Arm", "Left Arm" }, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "11159284657" },--11159410305
{ MeshId = "11159370334", Names = { "Right Leg", "Left Leg", "Right Arm", "Left Arm" }, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "11159285454" },--11159483910
{ MeshId = "105141400603933", Names = { "Left Arm", "Right Arm", "Left Leg", "Right Leg" }, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "71060417496309" },--102599402682100
{ MeshId = "99608462237958", Names = { "Right Arm", "Left Arm", "Right Leg", "Left Leg" }, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "130809869695496" },--140395948277978
{ MeshId = "90736849096372", Names = { "Left Arm", "Right Arm", "Left Leg", "Right Leg" }, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "79186624401216" },--90960046381276
{ MeshId = "139733645770094", Names = { "Right Arm", "Left Arm", "Right Leg", "Left Leg" }, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "130809869695496" },--82942681251131
{ MeshId = "125405780718494", Names = { "Left Arm", "Right Arm", "Left Leg", "Right Leg" }, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "136752500636691" },--85392395166623
{ MeshId = "125405780718494", Names = { "Right Arm", "Left Arm", "Right Leg", "Left Leg" }, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "136752500636691" },--131385506535381
{ MeshId = "125405780718494", Names = { "Left Leg", "Right Leg", "Left Arm", "Right Arm" }, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "136752500636691" },--106249329428811
{ MeshId = "125405780718494", Names = { "Right Leg", "Left Leg", "Right Arm", "Left Arm" }, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "136752500636691" },--129462518582032
{ MeshId = "14255522247", Names = { "Left Arm", "Right Arm", "Left Leg", "Right Leg" }, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "14255543546" },--14255556501
{ MeshId = "14255522247", Names = { "Right Arm", "Left Arm", "Right Leg", "Left Leg" }, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "14255543546" },--14255554762
{ MeshId = "17374767929", Names = { "Left Arm", "Right Arm", "Left Leg", "Right Leg" }, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "17374768001" },--17374851733
{ MeshId = "17374767929", Names = { "Right Arm", "Left Arm", "Right Leg", "Left Leg" }, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "17374768001" },--17374846953
{ MeshId = "14255522247", Names = { "Left Arm", "Right Arm", "Left Leg", "Right Leg" }, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "14255544465" },--14255560646
{ MeshId = "14255522247", Names = { "Right Arm", "Left Arm", "Right Leg", "Left Leg" }, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "14255544465" },--14255562939
{ MeshId = "18640914129", Names = { "Left Arm", "Right Arm", "Left Leg", "Right Leg" }, Offset = CFrame.identity, TextureId = "18640914168" },--18641142410
{ MeshId = "18640914129", Names = { "Right Arm", "Left Arm", "Right Leg", "Left Leg" }, Offset = CFrame.identity, TextureId = "18640914168" },--18641077392
{ MeshId = "18640901641", Names = { "Left Leg", "Right Leg", "Left Arm", "Right Arm" }, Offset = CFrame.identity, TextureId = "18640901676" },--18641187217
{ MeshId = "18640901641", Names = { "Right Leg", "Left Leg", "Right Arm", "Left Arm" }, Offset = CFrame.identity, TextureId = "18640901676" },--18641157833
{ MeshId = "17387586286", Names = { "Left Leg", "Right Leg", "Left Arm", "Right Arm" }, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "17387586304" },--17387616772
{ MeshId = "17387586286", Names = { "Right Leg", "Left Leg", "Right Arm", "Left Arm" }, Offset = CFrame.Angles(0, 0, 1.57), TextureId = "17387586304" },--17393641992
{ MeshId = "3030546036", Names = { "Left Arm", "Left Leg", "Right Arm", "Right Leg" }, Offset = CFrame.Angles(- 1.57, 0, 0), TextureId = "" },
{ MeshId = "4324138105", Names = { "Left Arm", "Left Leg", "Right Arm", "Right Leg" }, Offset = CFrame.Angles(- 1.57, 0, 0), TextureId = "" },
{ MeshId = "18640899369", Name = "Torso", Offset = CFrame.identity, TextureId = "18640899481" },--18641046146
{ MeshId = "14241018198", Name = "Torso", Offset = CFrame.identity, TextureId = "14251599953" },--14255528083
{ MeshId = "110684113028749", Name = "Torso", Offset = CFrame.identity, TextureId = "70661572547971" },--138364679836274
{ MeshId = "4819720316", Name = "Torso", Offset = CFrame.Angles(0, 0, -0.249), TextureId = "4819722776" },--4819740796
{ MeshId = "126825022897778", Name = "Torso", Offset = CFrame.identity, TextureId = "125975972015302" },--95290698984301
},
ApplyDescription = true,
BreakJointsDelay = 0.255,
ClickFling = true,
DefaultFlingOptions = {
HatFling = true,--{ MeshId="", TextureId = ""},
Highlight = true,
PredictionFling = true,
Timeout = 1,
ToolFling = true,--"Boombox",
},
DisableCharacterCollisions = true,
DisableHealthBar = true,
DisableRigCollisions = true,
HatDrop = false,
HideCharacter = Vector3.new(0, - 30, 0),
ParentCharacter = true,
PermanentDeath = true,
Refit = true,
RigSize = 1,
RigTransparency = 1,
R15 = false,
SetCameraSubject = true,
SetCameraType = true,
SetCharacter = false,
SetCollisionGroup = true,
SimulationRadius = 2147483647,
TeleportRadius = 12,
UseServerBreakJoints = true,
})
Name = game.Players.LocalPlayer.Name
Character = workspace[Name]
else
print('choose an api next time :(')
return end

-- YES I KNOW ABOVE IS TERRIBLE PLS STOP REMINDING ME 😭 

local RootPart = Character.HumanoidRootPart
local Jumped,Falled,Idled,Walked = false,false,false,false
local AnimatorModule = loadstring(game:HttpGet("https://raw.githubusercontent.com/MelonsStuff/DisbeliefHub/refs/heads/main/Scripts/AnimatorModule.lua"))()
local Anims = Instance.new("Folder", workspace)

function Raycast(POSITION, DIRECTION, RANGE, IGNOREDECENDANTS)
return workspace:FindPartOnRay(Ray.new(POSITION, DIRECTION.unit * RANGE), IGNOREDECENDANTS)
end

function LoadAnim(Rig, KeyFrameS)
if not AnimatorModule[Rig] then
AnimatorModule[Rig] = {}
end
AnimatorModule[Rig][KeyFrameS.Name] = AnimatorModule:LoadAnimation(Rig, KeyFrameS)
end

function PlayAnim(Rig, Animation, AnimFade, AnimSpeed)
if not AnimatorModule[Rig] then
AnimatorModule[Rig] = {}
end
if not AnimatorModule[Rig][Animation.Name] then
AnimatorModule[Rig][Animation.Name] = AnimatorModule:LoadAnimation(Rig, Animation)
end
for Animation, Track in next, AnimatorModule[Rig] do
if Animation ~= Animation.Name then
Track:Stop()
end
end
if not AnimatorModule[Rig][Animation.Name].IsPlaying then
AnimatorModule[Rig][Animation.Name]:Play(AnimFade or 1, AnimSpeed or 1)
end
end

function StopAnim(Rig, Anim)
if not AnimatorModule[Rig] then
AnimatorModule[Rig] = {}
end
if not AnimatorModule[Rig][Anim.Name] then
AnimatorModule[Rig][Anim.Name] = AnimatorModule:LoadAnimation(Rig, Anim)
end
AnimatorModule[Rig][Anim.Name]:Stop()
end

function CreateAnimation(Name, ID)
local New = game:GetObjects("rbxassetid://"..ID)[1]
New.Parent = Anims
New.Name = Name
end

if game.CoreGui:FindFirstChild("FluxLib") then
game.CoreGui:FindFirstChild("FluxLib"):Destroy()
end

local Lib = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/UI-Libs/main/fluxlib.txt"))()
local GUI = Lib:Window("Disbelief Hub", "Irony at its finest.", Color3.fromRGB(0, 0, 0), Enum.KeyCode.LeftControl)

-- Add a new tab for GUI control
local GuiControlTab = GUI:Tab("GUI Control", "http://www.roblox.com/asset/?id=6023426915") -- You can change the asset ID for the tab icon

-- Add the button to the new tab for toggling GUI visibility and recentering
GuiControlTab:Button("Toggle GUI Visibility", function()
    -- Check if GUI.MainGui exists before trying to access its properties
    if GUI.MainGui then
        GUI.MainGui.Visible = not GUI.MainGui.Visible
        if GUI.MainGui.Visible then
            -- Recenter the GUI when it becomes visible
            local screenX = game.CoreGui.AbsoluteSize.X
            local screenY = game.CoreGui.AbsoluteSize.Y
            local guiX = GUI.MainGui.AbsoluteSize.X
            local guiY = GUI.MainGui.AbsoluteSize.Y

            GUI.MainGui.Position = UDim2.new(0.5, -guiX/2, 0.5, -guiY/2)
        end
    else
        warn("GUI.MainGui not found. Cannot toggle or recenter GUI.")
    end
end)

local DancesA = GUI:Tab("Animations - R6 Dances", "http://www.roblox.com/asset/?id=6023426915")
local DancesB = GUI:Tab("Animations - Forsaken", "http://www.roblox.com/asset/?id=6023426915")

local R6Dances = {
{Name = "Boombox Dance", ID = 84471848998012, SoundID = 1839931160},
{Divider = true},  
{Name = "Cafeteria", ID = 111079857314277},
{Name = "Swag Surfin'", ID = 88245814842699},
{Name = "Trinidad", ID = 125079877993376},
{Name = "Rat Dance", ID = 98260902889120},
{Name = "Internet Yamero", ID = 99905571448278},
{Name = "Two", ID = 137845929482571},
{Name = "Hakari", ID = 92699725136780},
{Name = "Hakari V2", ID = 139107159497423, Speed = 3},
{Name = "Heavy Love", ID = 85856686932206},
{Name = "Oh Who Is You", ID = 80777442674443},
{Name = "BHop", ID = 82234401429055},
{Name = "Boomin'", ID = 135207682507735},
{Name = "Carbohydrate Craving", ID = 77887053847258},
{Name = "Criss Cross Toprock", ID = 73116243097694},
{Name = "Deep Fried Desire", ID = 127846780529069},
{Name = "Downtown Funk", ID = 103059790868580},
{Name = "Dragon of Dojima", ID = 79052669998148},
{Name = "Fighter Stance", ID = 118865990558686},
{Name = "Hot Springs", ID = 134527716461262},
{Name = "Kombonk", ID = 88519824673842},
{Name = "PoPiPo Extended", ID = 115465103089127},
{Name = "Rage", ID = 97891561277088},
{Name = "Shadow Dash", ID = 126495344868322},
{Name = "Star Striker", ID = 126271443897103},
{Name = "Survivalist", ID = 74820723472974},
{Divider = true},  
{Name = "Appendum", ID = 77926650795117},
{Name = "Attitude", ID = 129169655004423},
{Divider = true},  
{Name = "Bill", ID = 120460931637912},
{Name = "Billie Jean", ID = 108805310510119},
{Name = "Billy Bounce", ID = 125962207089467},
{Name = "Bit Crushing", ID = 135845625327739},
{Name = "Black and Yellow", ID = 132028118802766},
{Name = "Blinding Lights", ID = 83245497290837},
{Name = "BloodPop", ID = 132026285699359},
{Name = "Bomb Monkey", ID = 75616586799217},
{Name = "Boogie", ID = 125356421399032},
{Name = "Boogie Bomb", ID = 114817849347144},
{Name = "Boogie Down", ID = 77558722177080, Speed = 0.85},
{Name = "Boomin'", ID = 135207682507735},
{Name = "Box Swing", ID = 75405139558088, Speed = 0.75},
{Name = "BreakDance", ID = 132886479585903},
{Name = "BreakDance 2005", ID = 131296257768627},
{Name = "Break Down", ID = 100568904650591},
{Name = "Breakin", ID = 131155721688011},
{Name = "Bullet Dodge Ballet", ID = 98779400840597},
{Divider = true},  
{Name = "Calamity", ID = 102026644002108},
{Name = "Caramelldansen", ID = 103597509139287},
{Name = "ChaseMe", ID = 118311613925473},
{Name = "Check", ID = 132280062505986},
{Name = "Chicken Dinner", ID = 100643285137768},
{Name = "Club Penguin", ID = 89761302048916},
{Name = "Colossal", ID = 93170660505618},
{Name = "Company Jig", ID = 116614992219971},
{Name = "Conga", ID = 115557579308566},
{Name = "Continental Drift", ID = 105174222033892},
{Name = "CrackDown", ID = 133188222109902},
{Name = "Crank Dat", ID = 139148388599834},
{Name = "Cyber Bop", ID = 129655276640546},
{Name = "CupCakes", ID = 117125226382337},
{Divider = true},
{Name = "Direction Directive", ID = 100131309856257},
{Name = "Domino", ID = 126683576461381, Speed = 0.75},
{Name = "Doodle", ID = 90069083924245, Speed = 0.75},
{Name = "Doom MCBringer", ID = 123386245117713},
{Name = "Double Step", ID = 138112012258643},
{Name = "Downtown Funk", ID = 103059790868580},
{Name = "Dragon Dance", ID = 75687257387850, Speed = 0.75},
{Name = "Drip", ID = 100177280567649, Speed = 0.75},
{Name = "Drum Major", ID = 116369780386936},
{Name = "Dynamic Shuffle", ID = 78337295886429},
{Divider = true},
{Name = "Electro Shuffle", ID = 136684924748195},
{Name = "Electro Swing", ID = 93684150668786},
{Name = "Entranced", ID = 131726076631029},
{Divider = true},
{Name = "Fein", ID = 112117163073046},
{Name = "Finesse", ID = 139148405898144},
{Name = "Fling", ID = 125134707835105},
{Name = "Flipping", ID = 92534571994848},
{Name = "Flipping (Slow)", ID = 92534571994848, Speed = 0.75},
{Name = "Floss", ID = 77134017262796},
{Name = "Freestyle", ID = 129690192535974},
{Name = "Funk", ID = 93170660505618},
{Name = "Funky", ID = 94819139632832},
{Divider = true},
{Name = "Gangnam Style", ID = 80495107024340},
{Name = "Get Down", ID = 126580970716630},
{Name = "Get Right", ID = 125079877993376},
{Name = "GetUp", ID = 138112012258643},
{Name = "Goku Dance", ID = 126683576461381},
{Name = "Griddy", ID = 100131309856257},
{Name = "Groove", ID = 100643285137768},
{Name = "Gun Pose", ID = 75405139558088},
{Name = "Goofy", ID = 90069083924245},
{Divider = true},
{Name = "Hype", ID = 118311613925473},
{Name = "HitDemFolks", ID = 132280062505986},
{Name = "Hot", ID = 116614992219971},
{Name = "House", ID = 115557579308566},
{Name = "How You Feel", ID = 105174222033892},
{Divider = true},
{Name = "I'm a Gummy Bear", ID = 133188222109902},
{Name = "Imma", ID = 139148388599834},
{Name = "Imma (Slow)", ID = 139148388599834, Speed = 0.75},
{Name = "In My Feelings", ID = 129655276640546},
{Name = "In the End", ID = 117125226382337},
{Divider = true},
{Name = "Jiggy", ID = 100177280567649},
{Name = "Jiggle", ID = 116369780386936},
{Name = "Jungle", ID = 78337295886429},
{Divider = true},
{Name = "Kick", ID = 136684924748195},
{Name = "Koto", ID = 93684150668786},
{Name = "Kriss Kross", ID = 131726076631029},
{Divider = true},
{Name = "Leaf", ID = 112117163073046},
{Name = "Lean", ID = 139148405898144},
{Name = "Lemonade", ID = 125134707835105},
{Name = "Let's Go", ID = 92534571994848},
{Name = "Lift Off", ID = 77134017262796},
{Name = "Like That", ID = 129690192535974},
{Name = "Liquid", ID = 93170660505618},
{Name = "Loosing It", ID = 94819139632832},
{Name = "Loom", ID = 80495107024340},
{Name = "Lumberjack", ID = 126580970716630},
{Name = "Lyrical", ID = 125079877993376},
{Divider = true},
{Name = "M", ID = 138112012258643},
{Name = "Make It", ID = 100131309856257},
{Name = "Make It Rain", ID = 100643285137768},
{Name = "Make Me", ID = 89761302048916},
{Name = "Make Me Proud", ID = 93170660505618},
{Name = "Man's Not Hot", ID = 116614992219971},
{Name = "Mask Off", ID = 115557579308566},
{Name = "Me and My Kicks", ID = 105174222033892},
{Name = "Milly Rock", ID = 133188222109902},
{Name = "Mind", ID = 139148388599834},
{Name = "Mi Gente", ID = 129655276640546},
{Name = "Misery", ID = 117125226382337},
{Name = "Mix", ID = 100177280567649},
{Name = "MoonWalk", ID = 116369780386936},
{Name = "Mosh", ID = 78337295886429},
{Name = "Move It", ID = 136684924748195},
{Name = "Move Your Body", ID = 93684150668786},
{Name = "Mr. Krabs", ID = 131726076631029},
{Divider = true},
{Name = "Nae Nae", ID = 112117163073046},
{Name = "Nasty", ID = 139148405898144},
{Name = "New Thang", ID = 125134707835105},
{Name = "New York", ID = 92534571994848},
{Name = "No Limit", ID = 77134017262796},
{Name = "No Stylist", ID = 129690192535974},
{Name = "Nod", ID = 93170660505618},
{Name = "Numb", ID = 94819139632832},
{Divider = true},
{Name = "Oh", ID = 80495107024340},
{Name = "Old Town Road", ID = 126580970716630},
{Name = "On My Way", ID = 125079877993376},
{Name = "One Dance", ID = 138112012258643},
{Name = "Open", ID = 100131309856257},
{Name = "Outta My Mind", ID = 100643285137768},
{Name = "Over It", ID = 89761302048916},
{Divider = true},
{Name = "Party", ID = 93170660505618},
{Name = "Party Rock Anthem", ID = 116614992219971},
{Name = "Peanut Butter Jelly Time", ID = 115557579308566},
{Name = "Pick It Up", ID = 105174222033892},
{Name = "Pop", ID = 133188222109902},
{Name = "Poppin'", ID = 139148388599834},
{Name = "Pose", ID = 129655276640546},
{Name = "Push It", ID = 117125226382337},
{Name = "Push Up", ID = 100177280567649},
{Divider = true},
{Name = "Quirk", ID = 116369780386936},
{Divider = true},
{Name = "Rage", ID = 78337295886429},
{Name = "Raise Up", ID = 136684924748195},
{Name = "Rattle", ID = 93684150668786},
{Name = "Redbone", ID = 131726076631029},
{Name = "Renegade", ID = 112117163073046},
{Name = "Reload", ID = 139148405898144},
{Name = "Ride", ID = 125134707835105},
{Name = "Right Now", ID = 92534571994848},
{Name = "Rock", ID = 77134017262796},
{Name = "Roll", ID = 129690192535974},
{Name = "Rollie", ID = 93170660505618},
{Name = "Rotation", ID = 94819139632832},
{Name = "Run", ID = 80495107024340},
{Divider = true},
{Name = "Savage", ID = 126580970716630},
{Name = "Say So", ID = 125079877993376},
{Name = "Shake", ID = 138112012258643},
{Name = "Shimmy", ID = 100131309856257},
{Name = "Shoot", ID = 100643285137768},
{Name = "Shy", ID = 89761302048916},
{Name = "Side to Side", ID = 93170660505618},
{Name = "Sleigh Ride", ID = 116614992219971},
{Name = "Slide", ID = 115557579308566},
{Name = "Slow Motion", ID = 105174222033892},
{Name = "Smooth Criminal", ID = 133188222109902},
{Name = "Snap", ID = 139148388599834},
{Name = "Solo", ID = 129655276640546},
{Name = "Spin", ID = 117125226382337},
{Name = "Stomp", ID = 100177280567649},
{Name = "Stutter", ID = 116369780386936},
{Name = "Suave", ID = 78337295886429},
{Name = "Swing", ID = 136684924748195},
{Divider = true},
{Name = "Taki Taki", ID = 93684150668786},
{Name = "Tap", ID = 131726076631029},
{Name = "Teach Me How to Dougie", ID = 112117163073046},
{Name = "Tear Drop", ID = 139148405898144},
{Name = "Techno", ID = 125134707835105},
{Name = "The Floss", ID = 92534571994848},
{Name = "The Git Up", ID = 77134017262796},
{Name = "The Woah", ID = 129690192535974},
{Name = "Thriller", ID = 93170660505618},
{Name = "Tik Tok", ID = 94819139632832},
{Name = "Time Warp", ID = 80495107024340},
{Name = "Too Lit", ID = 126580970716630},
{Name = "Twerk", ID = 125079877993376},
{Divider = true},
{Name = "Up", ID = 138112012258643},
{Name = "Uptown Funk", ID = 100131309856257},
{Divider = true},
{Name = "Vogue", ID = 100643285137768},
{Divider = true},
{Name = "Walk It Talk It", ID = 89761302048916},
{Name = "Whip", ID = 93170660505618},
{Name = "Wipe Out", ID = 116614992219971},
{Name = "Woah", ID = 115557579308566},
{Name = "Wobble", ID = 105174222033892},
{Divider = true},
{Name = "YMCA", ID = 133188222109902},
{Divider = true},
{Name = "Zanku", ID = 139148388599834},
}

for i,v in next, R6Dances do
    if v.Divider == true then
        DancesA:Divider()
    else
        DancesA:Button(v.Name, function()
            CreateAnimation(v.Name, v.ID)
            PlayAnim(Character, Anims[v.Name], 0.1, v.Speed or 1) -- Add speed parameter
            if v.SoundID then
                local Sound = Instance.new("Sound", workspace)
                Sound.SoundId = "rbxassetid://"..v.SoundID
                Sound:Play()
                Sound.Ended:Connect(function()
                    Sound:Destroy()
                end)
            end
        end)
    end
end


local Forsaken = {
{Name = "Boombox Dance", ID = 84471848998012, SoundID = 1839931160},
{Divider = true},  
{Name = "Cafeteria", ID = 111079857314277},
{Name = "Swag Surfin'", ID = 88245814842699},
{Name = "Trinidad", ID = 125079877993376},
{Name = "Rat Dance", ID = 98260902889120},
{Name = "Internet Yamero", ID = 99905571448278},
{Name = "Two", ID = 137845929482571},
{Name = "Hakari", ID = 92699725136780},
{Name = "Hakari V2", ID = 139107159497423, Speed = 3},
{Name = "Heavy Love", ID = 85856686932206},
{Name = "Oh Who Is You", ID = 80777442674443},
{Name = "BHop", ID = 82234401429055},
{Name = "Boomin'", ID = 135207682507735},
{Name = "Carbohydrate Craving", ID = 77887053847258},
{Name = "Criss Cross Toprock", ID = 73116243097694},
{Name = "Deep Fried Desire", ID = 127846780529069},
{Name = "Downtown Funk", ID = 103059790868580},
{Name = "Dragon of Dojima", ID = 79052669998148},
{Name = "Fighter Stance", ID = 118865990558686},
{Name = "Hot Springs", ID = 134527716461262},
{Name = "Kombonk", ID = 88519824673842},
{Name = "PoPiPo Extended", ID = 115465103089127},
{Name = "Rage", ID = 97891561277088},
{Name = "Shadow Dash", ID = 126495344868322},
{Name = "Star Striker", ID = 126271443897103},
{Name = "Survivalist", ID = 74820723472974},
{Divider = true},  
{Name = "Appendum", ID = 77926650795117},
{Name = "Attitude", ID = 129169655004423},
{Divider = true},  
{Name = "Bill", ID = 120460931637912},
{Name = "Billie Jean", ID = 108805310510119},
{Name = "Billy Bounce", ID = 125962207089467},
{Name = "Bit Crushing", ID = 135845625327739},
{Name = "Black and Yellow", ID = 132028118802766},
{Name = "Blinding Lights", ID = 83245497290837},
{Name = "BloodPop", ID = 132026285699359},
{Name = "Bomb Monkey", ID = 75616586799217},
{Name = "Boogie", ID = 125356421399032},
{Name = "Boogie Bomb", ID = 114817849347144},
{Name = "Boogie Down", ID = 77558722177080, Speed = 0.85},
{Name = "Boomin'", ID = 135207682507735},
{Name = "Box Swing", ID = 75405139558088, Speed = 0.75},
{Name = "BreakDance", ID = 132886479585903},
{Name = "BreakDance 2005", ID = 131296257768627},
{Name = "Break Down", ID = 100568904650591},
{Name = "Breakin", ID = 131155721688011},
{Name = "Bullet Dodge Ballet", ID = 98779400840597},
{Divider = true},  
{Name = "Calamity", ID = 102026644002108},
{Name = "Caramelldansen", ID = 103597509139287},
{Name = "ChaseMe", ID = 118311613925473},
{Name = "Check", ID = 132280062505986},
{Name = "Chicken Dinner", ID = 100643285137768},
{Name = "Club Penguin", ID = 89761302048916},
{Name = "Colossal", ID = 93170660505618},
{Name = "Company Jig", ID = 116614992219971},
{Name = "Conga", ID = 115557579308566},
{Name = "Continental Drift", ID = 105174222033892},
{Name = "CrackDown", ID = 133188222109902},
{Name = "Crank Dat", ID = 139148388599834},
{Name = "Cyber Bop", ID = 129655276640546},
{Name = "CupCakes", ID = 117125226382337},
{Divider = true},
{Name = "Direction Directive", ID = 100131309856257},
{Name = "Domino", ID = 126683576461381, Speed = 0.75},
{Name = "Doodle", ID = 90069083924245, Speed = 0.75},
{Name = "Doom MCBringer", ID = 123386245117713},
{Name = "Double Step", ID = 138112012258643},
{Name = "Downtown Funk", ID = 103059790868580},
{Name = "Dragon Dance", ID = 75687257387850, Speed = 0.75},
{Name = "Drip", ID = 100177280567649, Speed = 0.75},
{Name = "Drum Major", ID = 116369780386936},
{Name = "Dynamic Shuffle", ID = 78337295886429},
{Divider = true},
{Name = "Electro Shuffle", ID = 136684924748195},
{Name = "Electro Swing", ID = 93684150668786},
{Name = "Entranced", ID = 131726076631029},
{Divider = true},
{Name = "Fein", ID = 112117163073046},
{Name = "Finesse", ID = 139148405898144},
{Name = "Fling", ID = 125134707835105},
{Name = "Flipping", ID = 92534571994848},
{Name = "Flipping (Slow)", ID = 92534571994848, Speed = 0.75},
{Name = "Floss", ID = 77134017262796},
{Name = "Freestyle", ID = 129690192535974},
{Name = "Funk", ID = 93170660505618},
{Name = "Funky", ID = 94819139632832},
{Divider = true},
{Name = "Gangnam Style", ID = 80495107024340},
{Name = "Get Down", ID = 126580970716630},
{Name = "Get Right", ID = 125079877993376},
{Name = "GetUp", ID = 138112012258643},
{Name = "Goku Dance", ID = 126683576461381},
{Name = "Griddy", ID = 100131309856257},
{Name = "Groove", ID = 100643285137768},
{Name = "Gun Pose", ID = 75405139558088},
{Name = "Goofy", ID = 90069083924245},
{Divider = true},
{Name = "Hype", ID = 118311613925473},
{Name = "HitDemFolks", ID = 132280062505986},
{Name = "Hot", ID = 116614992219971},
{Name = "House", ID = 115557579308566},
{Name = "How You Feel", ID = 105174222033892},
{Divider = true},
{Name = "I'm a Gummy Bear", ID = 133188222109902},
{Name = "Imma", ID = 139148388599834},
{Name = "Imma (Slow)", ID = 139148388599834, Speed = 0.75},
{Name = "In My Feelings", ID = 129655276640546},
{Name = "In the End", ID = 117125226382337},
{Divider = true},
{Name = "Jiggy", ID = 100177280567649},
{Name = "Jiggle", ID = 116369780386936},
{Name = "Jungle", ID = 78337295886429},
{Divider = true},
{Name = "Kick", ID = 136684924748195},
{Name = "Koto", ID = 93684150668786},
{Name = "Kriss Kross", ID = 131726076631029},
{Divider = true},
{Name = "Leaf", ID = 112117163073046},
{Name = "Lean", ID = 139148405898144},
{Name = "Lemonade", ID = 125134707835105},
{Name = "Let's Go", ID = 92534571994848},
{Name = "Lift Off", ID = 77134017262796},
{Name = "Like That", ID = 129690192535974},
{Name = "Liquid", ID = 93170660505618},
{Name = "Loosing It", ID = 94819139632832},
{Name = "Loom", ID = 80495107024340},
{Name = "Lumberjack", ID = 126580970716630},
{Name = "Lyrical", ID = 125079877993376},
{Divider = true},
{Name = "M", ID = 138112012258643},
{Name = "Make It", ID = 100131309856257},
{Name = "Make It Rain", ID = 100643285137768},
{Name = "Make Me", ID = 89761302048916},
{Name = "Make Me Proud", ID = 93170660505618},
{Name = "Man's Not Hot", ID = 116614992219971},
{Name = "Mask Off", ID = 115557579308566},
{Name = "Me and My Kicks", ID = 105174222033892},
{Name = "Milly Rock", ID = 133188222109902},
{Name = "Mind", ID = 139148388599834},
{Name = "Mi Gente", ID = 129655276640546},
{Name = "Misery", ID = 117125226382337},
{Name = "Mix", ID = 100177280567649},
{Name = "MoonWalk", ID = 116369780386936},
{Name = "Mosh", ID = 78337295886429},
{Name = "Move It", ID = 136684924748195},
{Name = "Move Your Body", ID = 93684150668786},
{Name = "Mr. Krabs", ID = 131726076631029},
{Divider = true},
{Name = "Nae Nae", ID = 112117163073046},
{Name = "Nasty", ID = 139148405898144},
{Name = "New Thang", ID = 125134707835105},
{Name = "New York", ID = 92534571994848},
{Name = "No Limit", ID = 77134017262796},
{Name = "No Stylist", ID = 129690192535974},
{Name = "Nod", ID = 93170660505618},
{Name = "Numb", ID = 94819139632832},
{Divider = true},
{Name = "Oh", ID = 80495107024340},
{Name = "Old Town Road", ID = 126580970716630},
{Name = "On My Way", ID = 125079877993376},
{Name = "One Dance", ID = 138112012258643},
{Name = "Open", ID = 100131309856257},
{Name = "Outta My Mind", ID = 100643285137768},
{Name = "Over It", ID = 89761302048916},
{Divider = true},
{Name = "Party", ID = 93170660505618},
{Name = "Party Rock Anthem", ID = 116614992219971},
{Name = "Peanut Butter Jelly Time", ID = 115557579308566},
{Name = "Pick It Up", ID = 105174222033892},
{Name = "Pop", ID = 133188222109902},
{Name = "Poppin'", ID = 139148388599834},
{Name = "Pose", ID = 129655276640546},
{Name = "Push It", ID = 117125226382337},
{Name = "Push Up", ID = 100177280567649},
{Divider = true},
{Name = "Quirk", ID = 116369780386936},
{Divider = true},
{Name = "Rage", ID = 78337295886429},
{Name = "Raise Up", ID = 136684924748195},
{Name = "Rattle", ID = 93684150668786},
{Name = "Redbone", ID = 131726076631029},
{Name = "Renegade", ID = 112117163073046},
{Name = "Reload", ID = 139148405898144},
{Name = "Ride", ID = 125134707835105},
{Name = "Right Now", ID = 92534571994848},
{Name = "Rock", ID = 77134017262796},
{Name = "Roll", ID = 129690192535974},
{Name = "Rollie", ID = 93170660505618},
{Name = "Rotation", ID = 94819139632832},
{Name = "Run", ID = 80495107024340},
{Divider = true},
{Name = "Savage", ID = 126580970716630},
{Name = "Say So", ID = 125079877993376},
{Name = "Shake", ID = 138112012258643},
{Name = "Shimmy", ID = 100131309856257},
{Name = "Shoot", ID = 100643285137768},
{Name = "Shy", ID = 89761302048916},
{Name = "Side to Side", ID = 93170660505618},
{Name = "Sleigh Ride", ID = 116614992219971},
{Name = "Slide", ID = 115557579308566},
{Name = "Slow Motion", ID = 105174222033892},
{Name = "Smooth Criminal", ID = 133188222109902},
{Name = "Snap", ID = 139148388599834},
{Name = "Solo", ID = 129655276640546},
{Name = "Spin", ID = 117125226382337},
{Name = "Stomp", ID = 100177280567649},
{Name = "Stutter", ID = 116369780386936},
{Name = "Suave", ID = 78337295886429},
{Name = "Swing", ID = 136684924748195},
{Divider = true},
{Name = "Taki Taki", ID = 93684150668786},
{Name = "Tap", ID = 131726076631029},
{Name = "Teach Me How to Dougie", ID = 112117163073046},
{Name = "Tear Drop", ID = 139148405898144},
{Name = "Techno", ID = 125134707835105},
{Name = "The Floss", ID = 92534571994848},
{Name = "The Git Up", ID = 77134017262796},
{Name = "The Woah", ID = 129690192535974},
{Name = "Thriller", ID = 93170660505618},
{Name = "Tik Tok", ID = 94819139632832},
{Name = "Time Warp", ID = 80495107024340},
{Name = "Too Lit", ID = 126580970716630},
{Name = "Twerk", ID = 125079877993376},
{Divider = true},
{Name = "Up", ID = 138112012258643},
{Name = "Uptown Funk", ID = 100131309856257},
{Divider = true},
{Name = "Vogue", ID = 100643285137768},
{Divider = true},
{Name = "Walk It Talk It", ID = 89761302048916},
{Name = "Whip", ID = 93170660505618},
{Name = "Wipe Out", ID = 116614992219971},
{Name = "Woah", ID = 115557579308566},
{Name = "Wobble", ID = 105174222033892},
{Divider = true},
{Name = "YMCA", ID = 133188222109902},
{Divider = true},
{Name = "Zanku", ID = 139148388599834},
}

for i,v in next, Forsaken do
    if v.Divider == true then
        DancesB:Divider()
    else
        DancesB:Button(v.Name, function()
            CreateAnimation(v.Name, v.ID)
            PlayAnim(Character, Anims[v.Name], 0.1, v.Speed or 1) -- Add speed parameter
            if v.SoundID then
                local Sound = Instance.new("Sound", workspace)
                Sound.SoundId = "rbxassetid://"..v.SoundID
                Sound:Play()
                Sound.Ended:Connect(function()
                    Sound:Destroy()
                end)
            end
        end)
    end
end

-- Anti-AFK
task.spawn(function()
    while true do
        if Character and Character:IsDescendantOf(workspace) then
            local root = Character:FindFirstChild("HumanoidRootPart")
            if root then
                -- Check if the character is idle (not moving much)
                local isIdle = (root.Velocity.Magnitude < 0.1 and math.abs(root.Velocity.Y) < 0.1)

                -- If idle for a prolonged period, subtly move the character
                -- This is a very basic anti-AFK; more advanced ones might
                -- simulate input or jump
                if isIdle then
                    local currentPos = root.CFrame.p
                    local newPos = currentPos + Vector3.new(0.001, 0, 0) -- Tiny shift
                    root.CFrame = CFrame.new(newPos)
                end
            end
        end
        wait(5) -- Check every 5 seconds
    end
end)

-- Anti-Fling and Anti-Shake Rig Stabilizer
task.spawn(function()
    while true do
        if Character and Character:IsDescendantOf(workspace) then
            for _, part in pairs(Character:GetDescendants()) do
                if part:IsA("BasePart") and not part.Anchored then
                    part.Velocity = Vector3.zero
                    part.RotVelocity = Vector3.zero
                    part.AssemblyLinearVelocity = Vector3.zero
                    part.AssemblyAngularVelocity = Vector3.zero

                    -- Reset CFrame if detached
                    if (part.Position - Character.HumanoidRootPart.Position).Magnitude > 15 then
                        part.CFrame = Character.HumanoidRootPart.CFrame * CFrame.new(0, 0, -1)
                    end

                    -- Ensure client owns it
                    pcall(function()
                        part:SetNetworkOwner(game.Players.LocalPlayer)
                    end)
                end
            end
        end
        wait(10)
    end
end)

-- Anti-Shake Rig Stabilizer
task.spawn(function()
    while true do
        if Character and Character:IsDescendantOf(workspace) then
            local root = Character:FindFirstChild("HumanoidRootPart")
            local isIdle = (root.Velocity.Magnitude < 0.1 and math.abs(root.Velocity.Y) < 0.1)

            if isIdle then
                for _, part in pairs(Character:GetDescendants()) do
                    if part:IsA("BasePart") and not part.Anchored then
                        part.Velocity = Vector3.zero
                        part.RotVelocity = Vector3.zero
                        part.AssemblyLinearVelocity = Vector3.zero
                        part.AssemblyAngularVelocity = Vector3.zero

                        -- Slight refresh to kill drift
                        if (part.Position - root.Position).Magnitude > 0.1 then
                            part.CFrame = part.CFrame -- This effectively "resets" its physics state
                        end
                    end
                end
            end
        end
        wait(1) -- More frequent checks for shaking
    end
end)
